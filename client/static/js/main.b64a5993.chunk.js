(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{43:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),i=n(12),r=n.n(i),o=(n(43),n(20)),s=n.n(o),g=n(11),d=n(81),l=n(85),u=n(82),j=n(2),h=function(t){var e=t.productList,n=Object(g.a)(e),c=(new Date,[]),a=function(t){var e=new Date(t),n=new Date,c=365*(n.getUTCFullYear()-e.getUTCFullYear())+(n.getDate()<e.getDate()?30*(n.getMonth()-1-e.getMonth())+(n.getDate()+30-e.getDate()):30*(n.getMonth()-e.getMonth())+(n.getDate()-e.getDate()));return Object(j.jsx)("h4",{style:{color:"#424242",marginBottom:"2px"},children:0===c?"product added Today":c>=365?1===Math.trunc(c/365)?"".concat(Math.trunc(c/365)," year ago"):"".concat(Math.trunc(c/365)," years ago"):c<=7?"".concat(c,1===c?" day ago":" days ago"):"".concat(e.toString().substring(3,16))})},i=function t(){var e=Math.floor(1e3*Math.random());if(!c.includes(e))return c.push(e),e;t()};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.a,{container:!0,spacing:2,children:n.map((function(t,e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.a,{item:!0,md:3,children:Object(j.jsx)(l.a,{style:{height:"200px",padding:"15px",textAlign:"center",background:"white",marginBottom:"8px"},children:void 0!==t&&void 0!==t.face.get()&&t.face.get()&&t.date.get()?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{style:{fontSize:"".concat(t.size.get(),"px")},children:t.face.get()}),Object(j.jsx)(u.a,{style:{color:"#BF360C"},children:"Price : $ ".concat(t.price.get()/100)}),Object(j.jsx)("p",{style:{marginBottom:"2px !important"},children:a(t.date.get())})]}):Object(j.jsx)("img",{style:{maxWidth:"100%",maxHeight:"100%",alignContent:"center"},class:"ad",src:"http://localhost:3000/ads/?r=".concat(i())})})})})}))})})},p=n(83),b=n(84),x=function(){var t=Object(g.a)([]),e=Object(g.a)(0),n=Object(g.a)(41),a=Object(g.a)("http://localhost:3000/products"),i=Object(g.a)(!0),r=Object(g.a)(!1),o=Object(g.a)([]),d=Object(g.a)(""),l=function(t){window.innerHeight+document.documentElement.scrollTop>document.documentElement.offsetHeight-1||r.set(!0)},u=function(){x(),r.get()?(t.merge(o.get()),s.a.get("".concat(a.get())).then((function(t){var n=1,c=t.data;c.map((function(t,e){e===21*n-1&&(n+=1,c.splice(e,0,{}))})),o.set(c),e.set(e.get()+1)})).catch((function(t){return console.log(t)})),r.set(!1)):s.a.get("".concat(a.get())).then((function(c){var a=1,r=c.data;r.map((function(t,e){e===21*a-1&&(a+=1,r.splice(e,0,{}))})),t.set(r.slice(0,21)),o.set(r.slice(21)),i.set(!1),n.set(21),e.set(2)})).catch((function(t){return console.log(t)}))},x=function(){var t=new URL(a.get());t.searchParams.set("_sort",d.get()),t.searchParams.set("_page",e.get()),t.searchParams.set("_limit",n.get()),a.set(t.toString())},m=function(t){d.set(t),e.set(0),n.set(41),x()};return Object(c.useEffect)((function(){u()}),[a.get()]),Object(c.useEffect)((function(){r.get()&&u()}),[r.get()]),Object(c.useEffect)((function(){return window.addEventListener("scroll",l),function(){return window.removeEventListener("scroll",l)}}),[]),Object(j.jsxs)("div",{style:{background:"#EDE7F6"},children:[i.get()?Object(j.jsxs)("div",{style:{alignContent:"center",alignItems:"center",marginLeft:"50%",height:"500px",marginTop:"10%"},children:[Object(j.jsx)("h1",{children:"Loading..."}),Object(j.jsx)(p.a,{})]}):Object(j.jsxs)("div",{style:{padding:"10px"},children:[Object(j.jsx)("header",{style:{position:"fixed",top:"0px"},children:Object(j.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(j.jsx)(b.a,{variant:"outlined",onClick:function(){return m("price")},style:{marginRight:"15px",background:"#7986CB",padding:"10px"},children:"sort by Price"}),Object(j.jsx)(b.a,{variant:"outlined",onClick:function(){return m("size")},style:{marginRight:"15px",background:"#7986CB",padding:"10px"},children:"sort by Size"}),Object(j.jsx)(b.a,{variant:"outlined",onClick:function(){return m("id")},style:{marginRight:"15px",background:"#7986CB",padding:"10px"},children:"sort by Id"})]})}),Object(j.jsx)("body",{style:{marginTop:"80px"},children:0!==t.get().length?Object(j.jsx)(h,{productList:t}):null})]}),r.get()&&Object(j.jsx)("p",{children:"Fetching more list items..."})]})};var m=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(x,{})})},f=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),i(t),r(t)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),f()}},[[66,1,2]]]);
//# sourceMappingURL=main.b64a5993.chunk.js.map